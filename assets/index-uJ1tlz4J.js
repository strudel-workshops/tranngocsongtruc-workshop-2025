import{d as c,j as e,B as o,D as I,n as _,o as k,p as N,q as H,S as p,T as d,v as j,w as q,P as y,A as w,x as B,L as C}from"./index-CcpzI8ml.js";import{u as V,F as O,a as W}from"./FilterField-B4uU9l6K.js";import{P as G}from"./PageHeader-B9VdZfWo.js";import{S as $}from"./SciDataGrid-BNeQrAA1.js";import{u as K,f as U,F as X}from"./useListQuery-D2_eGFOK.js";import{S as J,D as Q}from"./DataGrid-CkR5YZo8.js";import{A as Y,C as Z}from"./Close-BkpF2UsC.js";import"./DatePicker-DWkUYU2A.js";import"./DateCalendar-Dp6GO3F9.js";import"./colorManipulator-DVsZpPp7.js";import"./Grid-Bx7dkpnD.js";import"./useQuery-DJF1k1Ok.js";import"./useGridRootProps-kSRtZgk5.js";import"./MenuItem-BzP42dIh.js";import"./dividerClasses-BN2DWmNl.js";import"./Divider-DW-YIEI1.js";const ee=({filterConfigs:t,searchTerm:a,setPreviewItem:r})=>{const{activeFilters:i}=V(),[s,h]=c.useState(0),[l,f]=c.useState(25),[g,v]=c.useState(s*l),F="id",b="client",{isPending:E,isFetching:M,isError:L,data:A,error:R}=K({activeFilters:i,dataSource:"data/real-data/metadata.json",filterConfigs:t,offset:g,pageSize:l,queryMode:b,staticParams:null}),T=n=>{r(n.row)},z=n=>{const x=n.pageSize!==l?0:n.page,u=n.pageSize,S=x*u;h(x),f(u),v(S)};if(E){const x=new Array(l).fill(null).map((u,S)=>S);return e.jsx(o,{sx:{padding:2},children:x.map(u=>e.jsx(J,{height:50},u))})}return L?e.jsx(Y,{severity:"error",children:R.message}):e.jsxs(e.Fragment,{children:[M&&e.jsx(I,{variant:"indeterminate"}),e.jsx($,{rows:U(A,i,t,a),pagination:!0,paginationMode:b,onPaginationModelChange:z,getRowId:n=>n[F],columns:[{field:"filename",headerName:"Filename",width:250},{field:"measurement_type",headerName:"Measurement Type",width:180},{field:"sample_name",headerName:"Sample Name",width:200},{field:"detector",headerName:"Detector",width:180},{field:"mode",headerName:"Mode",width:160},{field:"voltage_kv",headerName:"Voltage",units:"kV",type:"number",width:120},{field:"resolution_pm",headerName:"Resolution",units:"pm",type:"number",width:140},{field:"file_size_mb",headerName:"File Size",units:"MB",type:"number",width:120}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:s,pageSize:l}}},onRowClick:T})]})};var m={},P;function te(){if(P)return m;P=1;var t=_();Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var a=t(k()),r=N();return m.default=(0,a.default)((0,r.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),m}var ae=te();const re=H(ae),ie=({searchTerm:t,setSearchTerm:a,onToggleFiltersPanel:r})=>{const i=s=>{a(s.target.value)};return e.jsxs(p,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(d,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(j,{startIcon:e.jsx(re,{}),onClick:r,children:"Filters"}),e.jsx(q,{variant:"outlined",label:"Search",size:"small",value:t,onChange:i})]})},le=({filterConfigs:t,onClose:a})=>e.jsx(X,{grouped:!1,onClose:a,sx:{border:"none"},children:t.map((r,i)=>e.jsx(O,{field:r.field,label:r.label,operator:"contains",filterComponent:r.filterComponent,filterProps:r.filterProps},`${r.field}-${i}`))}),ne=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],oe=Array(25).fill(0),se=oe.map((t,a)=>({id:a,attr1:"value",attr2:"value",attr3:"value"})),de=({previewItem:t,onClose:a})=>e.jsx(y,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(p,{spacing:3,children:[e.jsxs(p,{spacing:1,children:[e.jsxs(p,{direction:"row",children:[e.jsx(d,{variant:"h6",component:"h3",flex:1,children:e.jsx(w,{to:"/explore-data/$id",params:{id:t.Id},children:t["Planet Name"]})}),e.jsx(B,{size:"small",onClick:a,children:e.jsx(Z,{})})]}),e.jsx(d,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(C,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(C,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(o,{children:[e.jsx(d,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx(Q,{rows:se,columns:ne,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(p,{direction:"row",children:[e.jsx(w,{to:"/explore-data/$id",params:{id:t.Id},children:e.jsx(j,{variant:"contained",children:"View details"})}),e.jsx(j,{variant:"outlined",children:"Export data"})]})]})}),D=[{field:"measurement_type",label:"Measurement Type",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"4D-STEM",value:"4D-STEM"},{label:"4D-STEM/CBED",value:"4D-STEM/CBED"},{label:"EDS Hyperspectral Map",value:"EDS Hyperspectral Map"},{label:"EELS Hyperspectral",value:"EELS Hyperspectral"},{label:"CL Point Spectra",value:"CL Point Spectra"},{label:"CL Hyperspectral",value:"CL Hyperspectral"},{label:"HAADF",value:"HAADF"},{label:"ADF",value:"ADF"},{label:"TEM",value:"TEM"},{label:"Diffraction",value:"Diffraction"}]}},{field:"detector",label:"Detector",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"EMPAD",value:"EMPAD"},{label:"Ultra-X EDS",value:"Ultra-X EDS"},{label:"Continuum K3-IS",value:"Continuum K3-IS"},{label:"Ceta-S CMOS",value:"Ceta-S CMOS"},{label:"Attolight CL Mirror",value:"Attolight CL Mirror"}]}},{field:"voltage_kv",label:"Voltage (kV)",operator:"between-inclusive",filterComponent:"RangeSlider",filterProps:{min:0,max:300}},{field:"file_size_mb",label:"File Size (MB)",operator:"between-inclusive",filterComponent:"RangeSlider",filterProps:{min:0,max:2500}}],ye=function(){const[a,r]=c.useState(""),[i,s]=c.useState(),[h,l]=c.useState(!0),f=()=>{l(!1)},g=()=>{l(!h)},v=()=>{s(null)};return e.jsx(W,{children:e.jsxs(o,{children:[e.jsx(G,{pageTitle:"Explore Data App",description:"Exploring mult-dimensional 4DStem, EELS, and CL datasets",sx:{marginBottom:1,padding:2}}),e.jsx(o,{children:e.jsxs(p,{direction:"row",children:[h&&e.jsx(o,{sx:{width:"350px"},children:e.jsx(le,{filterConfigs:D,onClose:f})}),e.jsxs(y,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(ie,{searchTerm:a,setSearchTerm:r,onToggleFiltersPanel:g}),e.jsx(ee,{filterConfigs:D,searchTerm:a,setPreviewItem:s})]}),i&&e.jsx(o,{sx:{minWidth:"400px"},children:e.jsx(de,{previewItem:i,onClose:v})})]})})]})})};export{ye as component};
